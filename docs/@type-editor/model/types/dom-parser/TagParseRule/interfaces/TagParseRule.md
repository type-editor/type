[**Type Editor**](../../../../../../README.md)

---

[Type Editor](../../../../../../index.md) / [@type-editor/model](../../../../README.md) / [types/dom-parser/TagParseRule](../README.md) / TagParseRule

# Interface: TagParseRule

Defined in: [packages/model/src/types/dom-parser/TagParseRule.ts:9](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L9)

Parse rule targeting a DOM element.

## Extends

- [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md)

## Properties

| Property                                                       | Type                                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Inherited from                                                                                                                                                          | Defined in                                                                                                                                                                                                  |
| -------------------------------------------------------------- | ------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <a id="property-attrs"></a> `attrs?`                           | [`Attrs`](../../../schema/Attrs/type-aliases/Attrs.md)                                | Attributes for the node or mark created by this rule. When `getAttrs` is provided, it takes precedence. This can be used to provide static attributes that should be applied to all nodes or marks created by this rule. For dynamic attributes based on the DOM element or style, use `getAttrs` instead.                                                                                                                                                                                                                                                                                                                           | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`attrs`](../../GenericParseRule/interfaces/GenericParseRule.md#property-attrs)             | [packages/model/src/types/dom-parser/GenericParseRule.ts:74](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L74) |
| <a id="property-closeparent"></a> `closeParent?`               | `boolean`                                                                             | When true, finding an element that matches this rule will close the current node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`closeParent`](../../GenericParseRule/interfaces/GenericParseRule.md#property-closeparent) | [packages/model/src/types/dom-parser/GenericParseRule.ts:58](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L58) |
| <a id="property-consuming"></a> `consuming?`                   | `boolean`                                                                             | By default, when a rule matches an element or style, no further rules get a chance to match it. By setting this to `false`, you indicate that even when this rule matches, other rules that come after it should also run.                                                                                                                                                                                                                                                                                                                                                                                                           | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`consuming`](../../GenericParseRule/interfaces/GenericParseRule.md#property-consuming)     | [packages/model/src/types/dom-parser/GenericParseRule.ts:24](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L24) |
| <a id="property-contentelement"></a> `contentElement?`         | `string` \| `HTMLElement` \| (`node`) => `HTMLElement`                                | For rules that produce non-leaf nodes, by default the content of the DOM element is parsed as content of the node. If the child nodes are in a descendent node, this may be a CSS selector string that the parser must use to find the actual content element, or a function that returns the actual content element to the parser. When a function, it receives the matched DOM element as a parameter and should return the element whose children should be parsed as content.                                                                                                                                                    | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:57](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L57)         |
| <a id="property-context"></a> `context?`                       | `string`                                                                              | When given, restricts this rule to only match when the current context—the parent nodes into which the content is being parsed—matches this expression. Should contain one or more node names or node group names followed by single or double slashes. For example `'paragraph/'` means the rule only matches when the parent node is a paragraph, `'blockquote/paragraph/'` restricts it to be in a paragraph that is inside a blockquote, and `'section//'` matches any position inside a section—a double slash matches any sequence of ancestor nodes. To allow multiple different contexts, they can be separated by a pipe (` | `) character, as in `'blockquote/                                                                                                                                       | list_item/'`.                                                                                                                                                                                               | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`context`](../../GenericParseRule/interfaces/GenericParseRule.md#property-context) | [packages/model/src/types/dom-parser/GenericParseRule.ts:39](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L39) |
| <a id="property-getattrs"></a> `getAttrs?`                     | (`node`) => `false` \| `Readonly`&lt;`Record`&lt;`string`, `any`&gt;&gt;              | A function used to compute the attributes for the node or mark created by this rule. Can also be used to describe further conditions the DOM element or style must match. When it returns `false`, the rule won't match. When it returns null or undefined, that is interpreted as an empty/default set of attributes.                                                                                                                                                                                                                                                                                                               | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:43](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L43)         |
| <a id="property-getcontent"></a> `getContent?`                 | (`node`, `schema`) => [`Fragment`](../../../../elements/Fragment/classes/Fragment.md) | Can be used to override the content of a matched node. When present, instead of parsing the node's child nodes, the result of this function is used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:67](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L67)         |
| <a id="property-ignore"></a> `ignore?`                         | `boolean`                                                                             | When true, ignore content that matches this rule. Any `<head>`, `<noscript>`, `<script>`, `<object>`, `<style>`, or `<title>` tags encountered are automatically ignored when no rules match them.                                                                                                                                                                                                                                                                                                                                                                                                                                   | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`ignore`](../../GenericParseRule/interfaces/GenericParseRule.md#property-ignore)           | [packages/model/src/types/dom-parser/GenericParseRule.ts:52](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L52) |
| <a id="property-mark"></a> `mark?`                             | `string`                                                                              | The name of the mark type to wrap the matched content in.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`mark`](../../GenericParseRule/interfaces/GenericParseRule.md#property-mark)               | [packages/model/src/types/dom-parser/GenericParseRule.ts:44](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L44) |
| <a id="property-namespace"></a> `namespace?`                   | `string`                                                                              | The namespace to match. This can be used to match elements in specific XML namespaces (e.g., SVG or MathML). Nodes are only matched when the namespace matches. When this property is null or undefined, the rule will match elements regardless of their namespace.                                                                                                                                                                                                                                                                                                                                                                 | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:23](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L23)         |
| <a id="property-node"></a> `node?`                             | `string`                                                                              | The name of the node type to create when this rule matches. Each rule should have either a `node`, `mark`, or `ignore` property (except when it appears in a [node](#model.NodeSpec.parseDOM) or [mark spec](#model.MarkSpec.parseDOM), in which case the `node` or `mark` property will be derived from its position).                                                                                                                                                                                                                                                                                                              | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:32](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L32)         |
| <a id="property-preservewhitespace"></a> `preserveWhitespace?` | `boolean` \| `"full"`                                                                 | Controls whether whitespace should be preserved when parsing the content inside the matched element. `false` means whitespace may be collapsed, `true` means that whitespace should be preserved but newlines normalized to spaces, and `'full'` means that newlines should also be preserved.                                                                                                                                                                                                                                                                                                                                       | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:76](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L76)         |
| <a id="property-priority"></a> `priority?`                     | `number`                                                                              | Can be used to change the order in which the parse rules in a schema are tried. Those with higher priority come first. Rules without a priority are counted as having priority 50. This property is only meaningful in a schema—when directly constructing a parser, the order of the rule array is used.                                                                                                                                                                                                                                                                                                                            | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`priority`](../../GenericParseRule/interfaces/GenericParseRule.md#property-priority)       | [packages/model/src/types/dom-parser/GenericParseRule.ts:16](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L16) |
| <a id="property-skip"></a> `skip?`                             | `boolean` \| `Node`                                                                   | When true, ignore the node that matches this rule, but do parse its content. Can also be a DOM node to use as the content source instead of the matched element.                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | [`GenericParseRule`](../../GenericParseRule/interfaces/GenericParseRule.md).[`skip`](../../GenericParseRule/interfaces/GenericParseRule.md#property-skip)               | [packages/model/src/types/dom-parser/GenericParseRule.ts:65](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/GenericParseRule.ts#L65) |
| <a id="property-tag"></a> `tag`                                | `string`                                                                              | A CSS selector describing the kind of DOM elements to match.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | -                                                                                                                                                                       | [packages/model/src/types/dom-parser/TagParseRule.ts:14](https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/model/src/types/dom-parser/TagParseRule.ts#L14)         |
