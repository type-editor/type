import{_ as t,o as r,c as i,ak as s}from"./chunks/framework.EVMbD_FN.js";const u=JSON.parse('{"title":"browser-hacks/is-android-enter-suggestion-quirk","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/dom-change-util/browser-hacks/is-android-enter-suggestion-quirk/README.md","filePath":"@type-editor/dom-change-util/browser-hacks/is-android-enter-suggestion-quirk/README.md"}'),n={name:"@type-editor/dom-change-util/browser-hacks/is-android-enter-suggestion-quirk/README.md"};function a(o,e,d,h,c,l){return r(),i("div",null,[...e[0]||(e[0]=[s('<p><a href="./../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../">Type Editor</a> / <a href="./../../README.html">@type-editor/dom-change-util</a> / browser-hacks/is-android-enter-suggestion-quirk</p><h1 id="browser-hacks-is-android-enter-suggestion-quirk" tabindex="-1">browser-hacks/is-android-enter-suggestion-quirk <a class="header-anchor" href="#browser-hacks-is-android-enter-suggestion-quirk" aria-label="Permalink to “browser-hacks/is-android-enter-suggestion-quirk”">​</a></h1><h2 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-label="Permalink to “Functions”">​</a></h2><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><p><a href="./functions/isAndroidEnterSuggestionQuirk.html">isAndroidEnterSuggestionQuirk</a></p></td><td><p>Checks if the Android virtual keyboard enter-and-pick-suggestion quirk is happening.</p><p>Android&#39;s virtual keyboard has a feature where after pressing Enter, it can suggest words or corrections. During this process, Android sometimes:</p><ol><li>Fires a DOM mutation that creates the new paragraph</li><li>THEN moves the selection to the new paragraph</li></ol><p>However, ProseMirror cleans up the DOM selection during step 1, causing Android to give up on step 2, leaving the cursor in the wrong place (issue #1059).</p><p>This function detects that specific sequence by checking:</p><ul><li>Running on Android</li><li>Change is not inline (block-level change)</li><li>Start and end are in different blocks ($from.start() !== $to.start())</li><li>End position is at the very start of its parent ($to.parentOffset === 0)</li><li>Both positions are at the same depth</li><li>Selection exists and is collapsed (anchor === head)</li><li>Selection is at the end of the change (head === change.endA)</li></ul><p>When detected, the code drops the new paragraph from the change and dispatches a simulated Enter key event instead.</p><p><strong>See</strong></p><p><a href="https://github.com/ProseMirror/prosemirror/issues/1059" target="_blank" rel="noreferrer">https://github.com/ProseMirror/prosemirror/issues/1059</a></p></td></tr></tbody></table>',6)])])}const g=t(n,[["render",a]]);export{u as __pageData,g as default};
