import{_ as s,o as t,c as i,ak as o}from"./chunks/framework.EVMbD_FN.js";const u=JSON.parse('{"title":"Function: shouldSuppressSelectionDuringComposition()","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/dom-change-util/browser-hacks/should-suppress-selection-during-composition/functions/shouldSuppressSelectionDuringComposition.md","filePath":"@type-editor/dom-change-util/browser-hacks/should-suppress-selection-during-composition/functions/shouldSuppressSelectionDuringComposition.md"}'),n={name:"@type-editor/dom-change-util/browser-hacks/should-suppress-selection-during-composition/functions/shouldSuppressSelectionDuringComposition.md"};function a(r,e,d,p,h,c){return t(),i("div",null,[...e[0]||(e[0]=[o(`<p><a href="./../../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../../">Type Editor</a> / <a href="./../../../README.html">@type-editor/dom-change-util</a> / <a href="./../README.html">browser-hacks/should-suppress-selection-during-composition</a> / shouldSuppressSelectionDuringComposition</p><h1 id="function-shouldsuppressselectionduringcomposition" tabindex="-1">Function: shouldSuppressSelectionDuringComposition() <a class="header-anchor" href="#function-shouldsuppressselectionduringcomposition" aria-label="Permalink to “Function: shouldSuppressSelectionDuringComposition()”">​</a></h1><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldSuppressSelectionDuringComposition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  selection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  chFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  chTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  transaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/dom-change-util/src/dom-change/browser-hacks/should-suppress-selection-during-composition.ts#L40" target="_blank" rel="noreferrer">browser-hacks/should-suppress-selection-during-composition.ts:40</a></p><p>Checks if selection should be suppressed due to Chrome composition issues.</p><p>During IME composition and in certain edge cases, Chrome and IE have quirks where they report incorrect selection positions. This function detects those cases so that the selection update can be skipped.</p><p><strong>Chrome composition issue:</strong> During composition, Chrome sometimes reports the selection in the wrong place. The check detects this by looking for:</p><ul><li>Chrome browser during composition</li><li>Empty (collapsed) selection</li><li>Recent delete operation OR change is not zero-width</li><li>Selection head is at the start of the change or at the mapped end</li></ul><p><strong>IE edge case:</strong> IE doesn&#39;t move the cursor forward when starting to type in an empty block or between BR nodes. Detected by:</p><ul><li>IE browser</li><li>Empty selection at the start of the change</li></ul><p>In both cases, the selection update is skipped to avoid placing the cursor in the wrong position.</p><h2 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h2><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>view</code></td><td><code>PmEditorView</code></td><td>The editor view containing composition state</td></tr><tr><td><code>selection</code></td><td><code>PmSelection</code></td><td>The selection to check (from parsed content)</td></tr><tr><td><code>change</code></td><td><a href="./../../../types/dom-change/DocumentChange/interfaces/DocumentChange.html"><code>DocumentChange</code></a></td><td>The detected document change</td></tr><tr><td><code>chFrom</code></td><td><code>number</code></td><td>Change start position in the current document</td></tr><tr><td><code>chTo</code></td><td><code>number</code></td><td>Change end position in the current document (before mapping)</td></tr><tr><td><code>transaction</code></td><td><code>PmTransaction</code></td><td>The transaction being built, used to map positions</td></tr></tbody></table><h2 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h2><p><code>boolean</code></p><p>True if selection should be suppressed (not applied to transaction), false if selection should be set normally</p>`,18)])])}const k=s(n,[["render",a]]);export{u as __pageData,k as default};
