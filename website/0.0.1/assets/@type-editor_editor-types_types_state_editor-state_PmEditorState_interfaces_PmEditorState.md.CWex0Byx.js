import{_ as e,o as a,c as s,ak as i}from"./chunks/framework.EVMbD_FN.js";const b=JSON.parse('{"title":"Interface: PmEditorState","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/editor-types/types/state/editor-state/PmEditorState/interfaces/PmEditorState.md","filePath":"@type-editor/editor-types/types/state/editor-state/PmEditorState/interfaces/PmEditorState.md"}'),r={name:"@type-editor/editor-types/types/state/editor-state/PmEditorState/interfaces/PmEditorState.md"};function d(n,t,o,c,h,p){return a(),s("div",null,[...t[0]||(t[0]=[i(`<p><a href="./../../../../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../../../../">Type Editor</a> / <a href="./../../../../../README.html">@type-editor/editor-types</a> / <a href="./../README.html">types/state/editor-state/PmEditorState</a> / PmEditorState</p><h1 id="interface-pmeditorstate" tabindex="-1">Interface: PmEditorState <a class="header-anchor" href="#interface-pmeditorstate" aria-label="Permalink to “Interface: PmEditorState”">​</a></h1><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L9" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:9</a></p><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to “Properties”">​</a></h2><table tabindex="0"><thead><tr><th>Property</th><th>Modifier</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="property-doc"></a> <code>doc</code></td><td><code>readonly</code></td><td><code>Node_2</code></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L11" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:11</a></td></tr><tr><td><a id="property-plugins"></a> <code>plugins</code></td><td><code>readonly</code></td><td>readonly <a href="./../../../plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a>&lt;<code>any</code>&gt;[]</td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L16" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:16</a></td></tr><tr><td><a id="property-schema"></a> <code>schema</code></td><td><code>readonly</code></td><td><code>Schema</code></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L15" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:15</a></td></tr><tr><td><a id="property-scrolltoselection"></a> <code>scrollToSelection</code></td><td><code>readonly</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L13" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:13</a></td></tr><tr><td><a id="property-selection"></a> <code>selection</code></td><td><code>readonly</code></td><td><a href="./../../../selection/PmSelection/interfaces/PmSelection.html"><code>PmSelection</code></a></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L12" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:12</a></td></tr><tr><td><a id="property-storedmarks"></a> <code>storedMarks</code></td><td><code>readonly</code></td><td>readonly <code>Mark</code>[]</td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L14" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:14</a></td></tr><tr><td><a id="property-tr"></a> <code>tr</code></td><td><code>readonly</code></td><td><a href="./../../../PmTransaction/interfaces/PmTransaction.html"><code>PmTransaction</code></a></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L18" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:18</a></td></tr><tr><td><a id="property-transaction"></a> <code>transaction</code></td><td><code>readonly</code></td><td><a href="./../../../PmTransaction/interfaces/PmTransaction.html"><code>PmTransaction</code></a></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L17" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:17</a></td></tr></tbody></table><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="apply" tabindex="-1">apply() <a class="header-anchor" href="#apply" aria-label="Permalink to “apply()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transaction): PmEditorState;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L43" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:43</a></p><p>Apply the given transaction to produce a new state. This is a convenience method that calls applyTransaction and returns only the state.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>transaction</code></td><td><a href="./../../../PmTransaction/interfaces/PmTransaction.html"><code>PmTransaction</code></a></td><td>The transaction to apply</td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>PmEditorState</code></p><p>A new editor state with the transaction applied</p><hr><h3 id="applytransaction" tabindex="-1">applyTransaction() <a class="header-anchor" href="#applytransaction" aria-label="Permalink to “applyTransaction()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">applyTransaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rootTransaction): {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state: PmEditorState;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  transactions: readonly PmTransaction[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L57" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:57</a></p><p>Verbose variant of <a href="#state-editorstate-apply"><code>apply</code></a> that returns the precise transactions that were applied (which might be influenced by the transaction hooks (filterTransaction, appendTransaction) of plugins) along with the new state.</p><p>The returned transactions array may contain additional transactions beyond the root transaction if plugins&#39; appendTransaction hooks added new transactions.</p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>rootTransaction</code></td><td><a href="./../../../PmTransaction/interfaces/PmTransaction.html"><code>PmTransaction</code></a></td><td>The initial transaction to apply</td></tr></tbody></table><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: PmEditorState;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  transactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: readonly PmTransaction[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An object containing the new state and array of all applied transactions</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>state</code></td><td><code>PmEditorState</code></td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L58" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:58</a></td></tr><tr><td><code>transactions</code></td><td>readonly <a href="./../../../PmTransaction/interfaces/PmTransaction.html"><code>PmTransaction</code></a>[]</td><td><a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L59" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:59</a></td></tr></tbody></table><hr><h3 id="getfieldpluginvalue" tabindex="-1">getFieldPluginValue() <a class="header-anchor" href="#getfieldpluginvalue" aria-label="Permalink to “getFieldPluginValue()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFieldPluginValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key): unknown;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L34" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:34</a></p><p>Get the value of a plugin field.</p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>key</code></td><td><code>string</code></td><td>The key of the plugin field to retrieve</td></tr></tbody></table><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h4><p><code>unknown</code></p><p>The value of the field, or undefined if not found</p><hr><h3 id="getplugin" tabindex="-1">getPlugin() <a class="header-anchor" href="#getplugin" aria-label="Permalink to “getPlugin()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key): PmPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L26" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:26</a></p><p>Get a plugin by its key.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>key</code></td><td><code>string</code></td><td>The unique key identifying the plugin</td></tr></tbody></table><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h4><p><a href="./../../../plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a>&lt;<code>any</code>&gt;</p><p>The plugin instance, or undefined if not found</p><hr><h3 id="reconfigure" tabindex="-1">reconfigure() <a class="header-anchor" href="#reconfigure" aria-label="Permalink to “reconfigure()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reconfigure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config): PmEditorState;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L75" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:75</a></p><p>Create a new state based on this one, but with an adjusted set of active plugins. State fields that exist in both sets of plugins are kept unchanged. Those that no longer exist are dropped, and those that are new are initialized using their init method, passing in the new configuration object.</p><p>The document, selection, and stored marks are preserved in the new state.</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>config</code></td><td>{ <code>plugins?</code>: readonly <a href="./../../../plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a>&lt;<code>any</code>&gt;[]; }</td><td>Configuration object containing the new set of plugins</td></tr><tr><td><code>config.plugins?</code></td><td>readonly <a href="./../../../plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a>&lt;<code>any</code>&gt;[]</td><td>Optional array of plugins for the new state</td></tr></tbody></table><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h4><p><code>PmEditorState</code></p><p>A new editor state with the reconfigured plugins</p><hr><h3 id="tojson" tabindex="-1">toJSON() <a class="header-anchor" href="#tojson" aria-label="Permalink to “toJSON()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pluginFields</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> StateJSON;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/editor-types/src/types/state/editor-state/PmEditorState.ts#L93" target="_blank" rel="noreferrer">packages/editor-types/src/types/state/editor-state/PmEditorState.ts:93</a></p><p>Serialize this state to JSON. If you want to serialize the state of plugins, pass an object mapping property names to use in the resulting JSON object to plugin objects.</p><p>Plugin field values are serialized using JSON.stringify unless they&#39;re numbers. Built-in fields (doc, selection, storedMarks) are always serialized.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>pluginFields?</code></td><td><code>Readonly</code>&lt;<code>Record</code>&lt;<code>string</code>, <a href="./../../../plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a>&gt;&gt;</td><td>Optional mapping of JSON property names to plugin instances for serializing plugin state</td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h4><p><a href="./../../StateJSON/interfaces/StateJSON.html"><code>StateJSON</code></a></p><p>A JSON representation of the state</p><h4 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ history: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">historyPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() });</span></span></code></pre></div>`,73)])])}const g=e(r,[["render",d]]);export{b as __pageData,g as default};
