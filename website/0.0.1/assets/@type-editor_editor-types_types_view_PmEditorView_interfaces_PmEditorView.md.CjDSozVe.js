import{_ as t,o as s,c as i,ak as a}from"./chunks/framework.EVMbD_FN.js";const k=JSON.parse('{"title":"Interface: PmEditorView","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/editor-types/types/view/PmEditorView/interfaces/PmEditorView.md","filePath":"@type-editor/editor-types/types/view/PmEditorView/interfaces/PmEditorView.md"}'),r={name:"@type-editor/editor-types/types/view/PmEditorView/interfaces/PmEditorView.md"};function d(n,e,h,l,p,o){return s(),i("div",null,[...e[0]||(e[0]=[a(`<p><a href="./../../../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../../../">Type Editor</a> / <a href="./../../../../README.html">@type-editor/editor-types</a> / <a href="./../README.html">types/view/PmEditorView</a> / PmEditorView</p><h1 id="interface-pmeditorview" tabindex="-1">Interface: PmEditorView <a class="header-anchor" href="#interface-pmeditorview" aria-label="Permalink to “Interface: PmEditorView”">​</a></h1><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L15" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:15</a></p><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to “Properties”">​</a></h2><table tabindex="0"><thead><tr><th>Property</th><th>Modifier</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="property-composing"></a> <code>composing</code></td><td><code>readonly</code></td><td><code>boolean</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L32" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:32</a></td></tr><tr><td><a id="property-cursorwrapper"></a> <code>cursorWrapper</code></td><td><code>readonly</code></td><td>{ <code>deco</code>: <a href="./../../decoration/PmDecoration/interfaces/PmDecoration.html"><code>PmDecoration</code></a>; <code>dom</code>: <code>Node</code>; }</td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L21" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:21</a></td></tr><tr><td><code>cursorWrapper.deco</code></td><td><code>public</code></td><td><a href="./../../decoration/PmDecoration/interfaces/PmDecoration.html"><code>PmDecoration</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L21" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:21</a></td></tr><tr><td><code>cursorWrapper.dom</code></td><td><code>public</code></td><td><code>Node</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L21" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:21</a></td></tr><tr><td><a id="property-docview"></a> <code>docView</code></td><td><code>readonly</code></td><td><a href="./../../view-desc/PmNodeViewDesc/interfaces/PmNodeViewDesc.html"><code>PmNodeViewDesc</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L23" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:23</a></td></tr><tr><td><a id="property-dom"></a> <code>dom</code></td><td><code>readonly</code></td><td><code>HTMLElement</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L27" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:27</a></td></tr><tr><td><a id="property-domobserver"></a> <code>domObserver</code></td><td><code>readonly</code></td><td><a href="./../../PmDOMObserver/interfaces/PmDOMObserver.html"><code>PmDOMObserver</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L30" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:30</a></td></tr><tr><td><a id="property-dragging"></a> <code>dragging</code></td><td><code>public</code></td><td><a href="./../../input-handler/PmDragging/interfaces/PmDragging.html"><code>PmDragging</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L26" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:26</a></td></tr><tr><td><a id="property-editable"></a> <code>editable</code></td><td><code>readonly</code></td><td><code>boolean</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L28" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:28</a></td></tr><tr><td><a id="property-focused"></a> <code>focused</code></td><td><code>public</code></td><td><code>boolean</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L19" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:19</a></td></tr><tr><td><a id="property-input"></a> <code>input</code></td><td><code>readonly</code></td><td><a href="./../../input-handler/PmInputState/interfaces/PmInputState.html"><code>PmInputState</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L29" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:29</a></td></tr><tr><td><a id="property-isdestroyed"></a> <code>isDestroyed</code></td><td><code>readonly</code></td><td><code>boolean</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L33" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:33</a></td></tr><tr><td><a id="property-lastselectedviewdesc"></a> <code>lastSelectedViewDesc</code></td><td><code>public</code></td><td><a href="./../../view-desc/PmViewDesc/interfaces/PmViewDesc.html"><code>PmViewDesc</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L24" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:24</a></td></tr><tr><td><a id="property-markcursor"></a> <code>markCursor</code></td><td><code>public</code></td><td>readonly <code>Mark</code>[]</td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L20" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:20</a></td></tr><tr><td><a id="property-nodeviews"></a> <code>nodeViews</code></td><td><code>readonly</code></td><td><code>Readonly</code>&lt;<a href="./../../editor-view/NodeViewSet/type-aliases/NodeViewSet.html"><code>NodeViewSet</code></a>&gt;</td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L22" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:22</a></td></tr><tr><td><a id="property-props"></a> <code>props</code></td><td><code>readonly</code></td><td><code>Readonly</code>&lt;<a href="./../../editor-view/DirectEditorProps/interfaces/DirectEditorProps.html"><code>DirectEditorProps</code></a>&gt;</td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L17" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:17</a></td></tr><tr><td><a id="property-root"></a> <code>root</code></td><td><code>readonly</code></td><td><code>Document</code> | <code>ShadowRoot</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L18" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:18</a></td></tr><tr><td><a id="property-state"></a> <code>state</code></td><td><code>readonly</code></td><td><a href="./../../../state/editor-state/PmEditorState/interfaces/PmEditorState.html"><code>PmEditorState</code></a></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L31" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:31</a></td></tr><tr><td><a id="property-trackwrites"></a> <code>trackWrites</code></td><td><code>readonly</code></td><td><code>Node</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L25" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:25</a></td></tr></tbody></table><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="addplugin" tabindex="-1">addPlugin() <a class="header-anchor" href="#addplugin" aria-label="Permalink to “addPlugin()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L423" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:423</a></p><p>Dynamically adds a plugin to the editor view. The plugin will be initialized and its state will be included in subsequent transactions.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>plugin</code></td><td><a href="./../../../state/plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a></td><td>The plugin instance to add to the editor</td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add a plugin after editor initialization</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> myPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PluginKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // plugin configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(myPlugin);</span></span></code></pre></div><hr><h3 id="cleartrackwrites" tabindex="-1">clearTrackWrites() <a class="header-anchor" href="#cleartrackwrites" aria-label="Permalink to “clearTrackWrites()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearTrackWrites</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L39" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:39</a></p><p><strong><code>Internal</code></strong></p><p>Clears the tracked writes node.</p><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="coordsatpos" tabindex="-1">coordsAtPos() <a class="header-anchor" href="#coordsatpos" aria-label="Permalink to “coordsAtPos()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">coordsAtPos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pos, side</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  bottom: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  left: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  right: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  top: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L208" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:208</a></p><p>Returns the viewport rectangle at a given document position. <code>left</code> and <code>right</code> will be the same number, as this returns a flat cursor-ish rectangle. If the position is between two things that aren&#39;t directly adjacent, <code>side</code> determines which element is used. When &lt; 0, the element before the position is used, otherwise the element after.</p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>pos</code></td><td><code>number</code></td><td>The document position</td></tr><tr><td><code>side?</code></td><td><code>number</code></td><td>Which side to prefer: &lt; 0 for before, &gt;= 0 for after (default: 1)</td></tr></tbody></table><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bottom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An object with left, right, top, and bottom properties</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>bottom</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L208" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:208</a></td></tr><tr><td><code>left</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L208" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:208</a></td></tr><tr><td><code>right</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L208" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:208</a></td></tr><tr><td><code>top</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L208" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:208</a></td></tr></tbody></table><h4 id="example-1" tabindex="-1">Example <a class="header-anchor" href="#example-1" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the screen coordinates of the cursor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> coords</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">coordsAtPos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(view.state.selection.head);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cursor is at:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, coords.left, coords.top);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Position a tooltip at a specific document position</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">coordsAtPos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pos);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tooltip.style.left </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rect.left </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;px&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tooltip.style.top </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rect.bottom </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;px&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><hr><h3 id="destroy" tabindex="-1">destroy() <a class="header-anchor" href="#destroy" aria-label="Permalink to “destroy()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destroy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L321" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:321</a></p><p>Removes the editor from the DOM and destroys all <a href="#view-nodeview">node views</a>. After calling this method, the view should not be used anymore.</p><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="example-2" tabindex="-1">Example <a class="header-anchor" href="#example-2" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Clean up when unmounting a component</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">componentWillUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.view) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">destroy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="dispatch" tabindex="-1">dispatch() <a class="header-anchor" href="#dispatch" aria-label="Permalink to “dispatch()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transaction): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L365" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:365</a></p><p>Dispatch a transaction. Will call <a href="#view-directeditorprops-dispatchtransaction"><code>dispatchTransaction</code></a> when given, and otherwise defaults to applying the transaction to the current state and calling <a href="#view-editorview-updatestate"><code>updateState</code></a> with the result. This method is bound to the view instance, so that it can be easily passed around.</p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>transaction</code></td><td><a href="./../../../state/PmTransaction/interfaces/PmTransaction.html"><code>PmTransaction</code></a></td><td>The transaction to dispatch</td></tr></tbody></table><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="example-3" tabindex="-1">Example <a class="header-anchor" href="#example-3" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Insert text at the current selection</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transaction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.state.transaction.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insertText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transaction);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Delete the current selection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(view.state.transaction.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deleteSelection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><hr><h3 id="dispatchevent" tabindex="-1">dispatchEvent() <a class="header-anchor" href="#dispatchevent" aria-label="Permalink to “dispatchEvent()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatchEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L328" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:328</a></p><p>Used for testing. Dispatches a DOM event to the input state handler.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>event</code></td><td><code>Event</code></td><td>The DOM event to dispatch</td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="domatpos" tabindex="-1">domAtPos() <a class="header-anchor" href="#domatpos" aria-label="Permalink to “domAtPos()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">domAtPos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pos, side</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  node: Node;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  offset: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L224" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:224</a></p><p>Find the DOM position that corresponds to the given document position. When <code>side</code> is negative, find the position as close as possible to the content before the position. When positive, prefer positions close to the content after the position. When zero, prefer as shallow a position as possible.</p><p>Note that you should <strong>not</strong> mutate the editor&#39;s internal DOM, only inspect it (and even that is usually not necessary).</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>pos</code></td><td><code>number</code></td><td>The document position</td></tr><tr><td><code>side?</code></td><td><code>number</code></td><td>Side preference: negative for before, positive for after, 0 for shallow (default: 0)</td></tr></tbody></table><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to “Returns”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Node;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  offset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An object with the DOM node and offset</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>node</code></td><td><code>Node</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L224" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:224</a></td></tr><tr><td><code>offset</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L224" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:224</a></td></tr></tbody></table><hr><h3 id="domselection" tabindex="-1">domSelection() <a class="header-anchor" href="#domselection" aria-label="Permalink to “domSelection()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">domSelection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Selection;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L342" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:342</a></p><p>Gets the current DOM selection object.</p><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to “Returns”">​</a></h4><p><code>Selection</code></p><p>The DOM selection object, or null if not available</p><hr><h3 id="domselectionrange" tabindex="-1">domSelectionRange() <a class="header-anchor" href="#domselectionrange" aria-label="Permalink to “domSelectionRange()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">domSelectionRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): DOMSelectionRange;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L335" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:335</a></p><p>Gets the current DOM selection range, with workarounds for Safari shadow DOM.</p><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to “Returns”">​</a></h4><p><a href="./../../dom/DOMSelectionRange/interfaces/DOMSelectionRange.html"><code>DOMSelectionRange</code></a></p><p>The DOM selection range with focus and anchor information</p><hr><h3 id="endoftextblock" tabindex="-1">endOfTextblock() <a class="header-anchor" href="#endoftextblock" aria-label="Permalink to “endOfTextblock()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">endOfTextblock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dir, state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L271" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:271</a></p><p>Find out whether the selection is at the end of a textblock when moving in a given direction. When, for example, given <code>&#39;left&#39;</code>, it will return true if moving left from the current cursor position would leave that position&#39;s parent textblock. Will apply to the view&#39;s current state by default, but it is possible to pass a different state.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>dir</code></td><td><code>&quot;up&quot;</code> | <code>&quot;down&quot;</code> | <code>&quot;left&quot;</code> | <code>&quot;right&quot;</code> | <code>&quot;forward&quot;</code> | <code>&quot;backward&quot;</code></td><td>The direction to check: &#39;up&#39;, &#39;down&#39;, &#39;left&#39;, &#39;right&#39;, &#39;forward&#39;, or &#39;backward&#39;</td></tr><tr><td><code>state?</code></td><td><a href="./../../../state/editor-state/PmEditorState/interfaces/PmEditorState.html"><code>PmEditorState</code></a></td><td>The editor state to use (defaults to current state)</td></tr></tbody></table><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><p>true if at the end of a textblock in the given direction</p><hr><h3 id="focus" tabindex="-1">focus() <a class="header-anchor" href="#focus" aria-label="Permalink to “focus()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L151" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:151</a></p><p>Focus the editor.</p><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="example-4" tabindex="-1">Example <a class="header-anchor" href="#example-4" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Focus the editor after initialization</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Focus and set selection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  view.state.tr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSelection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TextSelection.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(view.state.doc, pos)),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><hr><h3 id="hasfocus" tabindex="-1">hasFocus() <a class="header-anchor" href="#hasfocus" aria-label="Permalink to “hasFocus()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasFocus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L136" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:136</a></p><p>Query whether the view has focus.</p><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><p>true if the editor view has focus, false otherwise</p><h4 id="example-5" tabindex="-1">Example <a class="header-anchor" href="#example-5" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Only update something if the editor has focus</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasFocus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Perform focus-dependent action</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="nodedom" tabindex="-1">nodeDOM() <a class="header-anchor" href="#nodedom" aria-label="Permalink to “nodeDOM()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nodeDOM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pos): Node;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L239" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:239</a></p><p>Find the DOM node that represents the document node after the given position. May return <code>null</code> when the position doesn&#39;t point in front of a node or if the node is inside an opaque node view.</p><p>This is intended to be able to call things like <code>getBoundingClientRect</code> on that DOM node. Do <strong>not</strong> mutate the editor DOM directly, or add styling this way, since that will be immediately overriden by the editor as it redraws the node.</p><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>pos</code></td><td><code>number</code></td><td>The document position</td></tr></tbody></table><h4 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to “Returns”">​</a></h4><p><code>Node</code></p><p>The DOM node at the position, or null if not found or inside opaque view</p><hr><h3 id="pastehtml" tabindex="-1">pasteHTML() <a class="header-anchor" href="#pastehtml" aria-label="Permalink to “pasteHTML()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pasteHTML</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(html, event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L282" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:282</a></p><p>Run the editor&#39;s paste logic with the given HTML string. The <code>event</code>, if given, will be passed to the <a href="#view-editorprops-handlepaste"><code>handlePaste</code></a> hook.</p><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>html</code></td><td><code>string</code></td><td>The HTML string to paste</td></tr><tr><td><code>event?</code></td><td><code>ClipboardEvent</code></td><td>Optional clipboard event to pass to handlers</td></tr></tbody></table><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><p>true if the paste was handled</p><hr><h3 id="pastetext" tabindex="-1">pasteText() <a class="header-anchor" href="#pastetext" aria-label="Permalink to “pasteText()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pasteText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text, event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L291" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:291</a></p><p>Run the editor&#39;s paste logic with the given plain-text input.</p><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td><td>The plain text string to paste</td></tr><tr><td><code>event?</code></td><td><code>ClipboardEvent</code></td><td>Optional clipboard event to pass to handlers</td></tr></tbody></table><h4 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><p>true if the paste was handled</p><hr><h3 id="posatcoords" tabindex="-1">posAtCoords() <a class="header-anchor" href="#posatcoords" aria-label="Permalink to “posAtCoords()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">posAtCoords</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(coords): {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  inside: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  pos: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L182" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:182</a></p><p>Given a pair of viewport coordinates, return the document position that corresponds to them. May return null if the given coordinates aren&#39;t inside the editor. When an object is returned, its <code>pos</code> property is the position nearest to the coordinates, and its <code>inside</code> property holds the position of the inner node that the position falls inside, or -1 if it is at the top level, not in any node.</p><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>coords</code></td><td>{ <code>left</code>: <code>number</code>; <code>top</code>: <code>number</code>; }</td><td>The viewport coordinates with left and top properties</td></tr><tr><td><code>coords.left</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>coords.top</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="returns-15" tabindex="-1">Returns <a class="header-anchor" href="#returns-15" aria-label="Permalink to “Returns”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  inside</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An object with pos and inside properties, or null if outside editor</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>inside</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L182" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:182</a></td></tr><tr><td><code>pos</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L182" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:182</a></td></tr></tbody></table><h4 id="example-6" tabindex="-1">Example <a class="header-anchor" href="#example-6" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get document position from a mouse click</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">posAtCoords</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ left: event.clientX, top: event.clientY });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (pos) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Clicked at document position:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pos.pos);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><hr><h3 id="posatdom" tabindex="-1">posAtDOM() <a class="header-anchor" href="#posatdom" aria-label="Permalink to “posAtDOM()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">posAtDOM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   node,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   offset,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   bias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L257" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:257</a></p><p>Find the document position that corresponds to a given DOM position. (Whenever possible, it is preferable to inspect the document structure directly, rather than poking around in the DOM, but sometimes—for example when interpreting an event target—you don&#39;t have a choice.)</p><p>The <code>bias</code> parameter can be used to influence which side of a DOM node to use when the position is inside a leaf node.</p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>node</code></td><td><code>Node</code></td><td>The DOM node</td></tr><tr><td><code>offset</code></td><td><code>number</code></td><td>The offset within the node</td></tr><tr><td><code>bias?</code></td><td><code>number</code></td><td>Side bias for leaf nodes: negative for start, positive for end (default: -1)</td></tr></tbody></table><h4 id="returns-16" tabindex="-1">Returns <a class="header-anchor" href="#returns-16" aria-label="Permalink to “Returns”">​</a></h4><p><code>number</code></p><p>The document position</p><h4 id="throws" tabindex="-1">Throws <a class="header-anchor" href="#throws" aria-label="Permalink to “Throws”">​</a></h4><p>If the DOM position is not inside the editor</p><hr><h3 id="scrolltoselection" tabindex="-1">scrollToSelection() <a class="header-anchor" href="#scrolltoselection" aria-label="Permalink to “scrollToSelection()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrollToSelection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L86" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:86</a></p><p>Scrolls the current selection into view if it&#39;s not already visible.</p><h4 id="returns-17" tabindex="-1">Returns <a class="header-anchor" href="#returns-17" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="serializeforclipboard" tabindex="-1">serializeForClipboard() <a class="header-anchor" href="#serializeforclipboard" aria-label="Permalink to “serializeForClipboard()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">serializeForClipboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(slice): {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  dom: HTMLElement;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  slice: Slice;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  text: string;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L304" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:304</a></p><p>Serialize the given slice as it would be if it was copied from this editor. Returns a DOM element that contains a representation of the slice as its children, a textual representation, and the transformed slice (which can be different from the given input due to hooks like <a href="#view-editorprops-transformcopied"><code>transformCopied</code></a>).</p><h4 id="parameters-11" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-11" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>slice</code></td><td><code>Slice</code></td><td>The content slice to serialize</td></tr></tbody></table><h4 id="returns-18" tabindex="-1">Returns <a class="header-anchor" href="#returns-18" aria-label="Permalink to “Returns”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: HTMLElement;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Slice;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: string;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>An object containing the DOM representation, text, and transformed slice</p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>dom</code></td><td><code>HTMLElement</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L304" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:304</a></td></tr><tr><td><code>slice</code></td><td><code>Slice</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L304" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:304</a></td></tr><tr><td><code>text</code></td><td><code>string</code></td><td><a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L304" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:304</a></td></tr></tbody></table><hr><h3 id="setprops" tabindex="-1">setProps() <a class="header-anchor" href="#setprops" aria-label="Permalink to “setProps()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L66" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:66</a></p><p>Update the view by updating existing props object with the object given as argument. Equivalent to <code>view.update(Object.assign({}, view.props, props))</code>.</p><h4 id="parameters-12" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-12" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>props</code></td><td><code>Partial</code>&lt;<a href="./../../editor-view/DirectEditorProps/interfaces/DirectEditorProps.html"><code>DirectEditorProps</code></a>&gt;</td><td>Partial props to merge with existing props</td></tr></tbody></table><h4 id="returns-19" tabindex="-1">Returns <a class="header-anchor" href="#returns-19" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="someprop" tabindex="-1">someProp() <a class="header-anchor" href="#someprop" aria-label="Permalink to “someProp()”">​</a></h3><h4 id="call-signature" tabindex="-1">Call Signature <a class="header-anchor" href="#call-signature" aria-label="Permalink to “Call Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">someProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PropName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(propName, callbackFunc): Result;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L111" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:111</a></p><p>Goes over the values of a prop, first those provided directly, then those from plugins given to the view, then from plugins in the state (in order), and calls the callback function every time a non-undefined value is found. When the callback returns a truthy value, that is immediately returned. When callback isn&#39;t provided, it is treated as the identity function (the prop value is returned directly).</p><h5 id="type-parameters" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters" aria-label="Permalink to “Type Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Type Parameter</th></tr></thead><tbody><tr><td><code>PropName</code> <em>extends</em> keyof <a href="./../../editor-view/EditorProps/interfaces/EditorProps.html"><code>EditorProps</code></a>&lt;<code>any</code>&gt;</td></tr><tr><td><code>Result</code></td></tr></tbody></table><h5 id="parameters-13" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-13" aria-label="Permalink to “Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>propName</code></td><td><code>PropName</code></td><td>The name of the prop to search for</td></tr><tr><td><code>callbackFunc</code></td><td>(<code>value</code>) =&gt; <code>Result</code></td><td>Optional callback to process the prop value</td></tr></tbody></table><h5 id="returns-20" tabindex="-1">Returns <a class="header-anchor" href="#returns-20" aria-label="Permalink to “Returns”">​</a></h5><p><code>Result</code></p><p>The result from the callback, the prop value, or undefined</p><h5 id="example-7" tabindex="-1">Example <a class="header-anchor" href="#example-7" aria-label="Permalink to “Example”">​</a></h5><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check if any plugin handles a specific key</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">someProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleKeyDown&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(view, event);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the first defined decorations prop</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">someProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;decorations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h4 id="call-signature-1" tabindex="-1">Call Signature <a class="header-anchor" href="#call-signature-1" aria-label="Permalink to “Call Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">someProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PropName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(propName): NonNullable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EditorProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[PropName]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L116" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:116</a></p><h5 id="type-parameters-1" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-1" aria-label="Permalink to “Type Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Type Parameter</th></tr></thead><tbody><tr><td><code>PropName</code> <em>extends</em> keyof <a href="./../../editor-view/EditorProps/interfaces/EditorProps.html"><code>EditorProps</code></a>&lt;<code>any</code>&gt;</td></tr></tbody></table><h5 id="parameters-14" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-14" aria-label="Permalink to “Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>propName</code></td><td><code>PropName</code></td></tr></tbody></table><h5 id="returns-21" tabindex="-1">Returns <a class="header-anchor" href="#returns-21" aria-label="Permalink to “Returns”">​</a></h5><p><code>NonNullable</code>&lt;<a href="./../../editor-view/EditorProps/interfaces/EditorProps.html"><code>EditorProps</code></a>&lt;<code>any</code>&gt;[<code>PropName</code>]&gt;</p><h4 id="call-signature-2" tabindex="-1">Call Signature <a class="header-anchor" href="#call-signature-2" aria-label="Permalink to “Call Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">someProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PropName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(propName, callbackFunc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NonNullable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EditorProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[PropName]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Result;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L118" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:118</a></p><h5 id="type-parameters-2" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-2" aria-label="Permalink to “Type Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Type Parameter</th><th>Default type</th></tr></thead><tbody><tr><td><code>PropName</code> <em>extends</em> keyof <a href="./../../editor-view/EditorProps/interfaces/EditorProps.html"><code>EditorProps</code></a>&lt;<code>any</code>&gt;</td><td>-</td></tr><tr><td><code>Result</code></td><td><code>NonNullable</code>&lt;<a href="./../../editor-view/EditorProps/interfaces/EditorProps.html"><code>EditorProps</code></a>&lt;<code>any</code>&gt;[<code>PropName</code>]&gt;</td></tr></tbody></table><h5 id="parameters-15" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-15" aria-label="Permalink to “Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>propName</code></td><td><code>PropName</code></td></tr><tr><td><code>callbackFunc?</code></td><td>(<code>value</code>) =&gt; <code>Result</code></td></tr></tbody></table><h5 id="returns-22" tabindex="-1">Returns <a class="header-anchor" href="#returns-22" aria-label="Permalink to “Returns”">​</a></h5><p>| <code>NonNullable</code>&lt;<a href="./../../editor-view/EditorProps/interfaces/EditorProps.html"><code>EditorProps</code></a>&lt;<code>any</code>&gt;[<code>PropName</code>]&gt; | <code>Result</code></p><hr><h3 id="tohtml" tabindex="-1">toHtml() <a class="header-anchor" href="#tohtml" aria-label="Permalink to “toHtml()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L405" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:405</a></p><p>Serializes the editor content to an HTML string representation. This uses the schema&#39;s DOM serializer to convert the document structure into HTML markup.</p><h4 id="returns-23" tabindex="-1">Returns <a class="header-anchor" href="#returns-23" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code></p><p>An HTML string representation of the editor content</p><h4 id="example-8" tabindex="-1">Example <a class="header-anchor" href="#example-8" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get HTML for export or display</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> html</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(html); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;&lt;p&gt;Hello &lt;strong&gt;world&lt;/strong&gt;&lt;/p&gt;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Copy HTML to clipboard</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">navigator.clipboard.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><hr><h3 id="tojson" tabindex="-1">toJSON() <a class="header-anchor" href="#tojson" aria-label="Permalink to “toJSON()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pluginFields</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L386" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:386</a></p><p>Serializes the editor state to a JSON string representation. This can be used to save the document state for persistence or transfer.</p><h4 id="parameters-16" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-16" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>pluginFields?</code></td><td><code>Readonly</code>&lt;<code>Record</code>&lt;<code>string</code>, <a href="./../../../state/plugin/PmPlugin/interfaces/PmPlugin.html"><code>PmPlugin</code></a>&gt;&gt;</td><td>Optional mapping of plugin names to plugins whose state should be included in the serialized output</td></tr></tbody></table><h4 id="returns-24" tabindex="-1">Returns <a class="header-anchor" href="#returns-24" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code></p><p>A JSON string representation of the editor state</p><h4 id="example-9" tabindex="-1">Example <a class="header-anchor" href="#example-9" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Save the editor content to local storage</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localStorage.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;document&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, json);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Include specific plugin states</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jsonWithPlugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toJSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ myPlugin: myPluginInstance });</span></span></code></pre></div><hr><h3 id="update" tabindex="-1">update() <a class="header-anchor" href="#update" aria-label="Permalink to “update()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L57" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:57</a></p><p>Update the view&#39;s props. Will immediately cause an update to the DOM.</p><h4 id="parameters-17" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-17" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>props</code></td><td><a href="./../../editor-view/DirectEditorProps/interfaces/DirectEditorProps.html"><code>DirectEditorProps</code></a></td><td>The new props to apply to the view</td></tr></tbody></table><h4 id="returns-25" tabindex="-1">Returns <a class="header-anchor" href="#returns-25" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="example-10" tabindex="-1">Example <a class="header-anchor" href="#example-10" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Update with a new state</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state: newState,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [myPlugin],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  editable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><hr><h3 id="updateroot" tabindex="-1">updateRoot() <a class="header-anchor" href="#updateroot" aria-label="Permalink to “updateRoot()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L157" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:157</a></p><p>When an existing editor view is moved to a new document or shadow tree, call this to make it recompute its root.</p><h4 id="returns-26" tabindex="-1">Returns <a class="header-anchor" href="#returns-26" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="updatestate" tabindex="-1">updateState() <a class="header-anchor" href="#updatestate" aria-label="Permalink to “updateState()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(state): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/8f2401b36ac56cc1b338db1b9300f2d4f10eb04a/packages/editor-types/src/types/view/PmEditorView.ts#L81" target="_blank" rel="noreferrer">packages/editor-types/src/types/view/PmEditorView.ts:81</a></p><p>Update the editor&#39;s <code>state</code> prop, without touching any of the other props.</p><h4 id="parameters-18" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-18" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>state</code></td><td><a href="./../../../state/editor-state/PmEditorState/interfaces/PmEditorState.html"><code>PmEditorState</code></a></td><td>The new editor state to apply</td></tr></tbody></table><h4 id="returns-27" tabindex="-1">Returns <a class="header-anchor" href="#returns-27" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="example-11" tabindex="-1">Example <a class="header-anchor" href="#example-11" aria-label="Permalink to “Example”">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Apply a transaction and update the view</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.state.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tr);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newState);</span></span></code></pre></div>`,293)])])}const b=t(r,[["render",d]]);export{k as __pageData,b as default};
