import{_ as t,o as a,c as s,ak as i}from"./chunks/framework.EVMbD_FN.js";const b=JSON.parse('{"title":"Class: HistoryState","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/history/state/HistoryState/classes/HistoryState.md","filePath":"@type-editor/history/state/HistoryState/classes/HistoryState.md"}'),r={name:"@type-editor/history/state/HistoryState/classes/HistoryState.md"};function h(n,e,o,d,l,c){return a(),s("div",null,[...e[0]||(e[0]=[i(`<p><a href="./../../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../../">Type Editor</a> / <a href="./../../../README.html">@type-editor/history</a> / <a href="./../README.html">state/HistoryState</a> / HistoryState</p><h1 id="class-historystate" tabindex="-1">Class: HistoryState <a class="header-anchor" href="#class-historystate" aria-label="Permalink to “Class: HistoryState”">​</a></h1><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L28" target="_blank" rel="noreferrer">state/HistoryState.ts:28</a></p><p>Represents the complete undo/redo history state for an editor.</p><p>This tracks both the undo (done) and redo (undone) branches, as well as metadata about the previous transaction for determining event grouping. Will be stored in the plugin state when the history plugin is active.</p><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to “Constructors”">​</a></h2><h3 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to “Constructor”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HistoryState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   done,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   undone,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   prevRanges,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   prevTime,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   prevComposition): HistoryState;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L44" target="_blank" rel="noreferrer">state/HistoryState.ts:44</a></p><p>Creates a new history state.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>done</code></td><td><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></td><td>The undo history branch</td></tr><tr><td><code>undone</code></td><td><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></td><td>The redo history branch</td></tr><tr><td><code>prevRanges</code></td><td>readonly <code>number</code>[]</td><td>The position ranges of the previous transaction</td></tr><tr><td><code>prevTime</code></td><td><code>number</code></td><td>The timestamp of the previous transaction</td></tr><tr><td><code>prevComposition</code></td><td><code>number</code></td><td>The composition ID of the previous transaction</td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>HistoryState</code></p><h2 id="accessors" tabindex="-1">Accessors <a class="header-anchor" href="#accessors" aria-label="Permalink to “Accessors”">​</a></h2><h3 id="done" tabindex="-1">done <a class="header-anchor" href="#done" aria-label="Permalink to “done”">​</a></h3><h4 id="get-signature" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Branch;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L59" target="_blank" rel="noreferrer">state/HistoryState.ts:59</a></p><p>Gets the undo history branch.</p><h5 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h5><p><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></p><h4 id="set-signature" tabindex="-1">Set Signature <a class="header-anchor" href="#set-signature" aria-label="Permalink to “Set Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(branch): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L66" target="_blank" rel="noreferrer">state/HistoryState.ts:66</a></p><p>Sets the undo history branch.</p><h5 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>branch</code></td><td><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></td></tr></tbody></table><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h5><p><code>void</code></p><hr><h3 id="prevcomposition" tabindex="-1">prevComposition <a class="header-anchor" href="#prevcomposition" aria-label="Permalink to “prevComposition”">​</a></h3><h4 id="get-signature-1" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-1" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prevComposition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L94" target="_blank" rel="noreferrer">state/HistoryState.ts:94</a></p><p>Gets the composition ID of the previous transaction.</p><h5 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h5><p><code>number</code></p><hr><h3 id="prevranges" tabindex="-1">prevRanges <a class="header-anchor" href="#prevranges" aria-label="Permalink to “prevRanges”">​</a></h3><h4 id="get-signature-2" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-2" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prevRanges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): readonly number[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L80" target="_blank" rel="noreferrer">state/HistoryState.ts:80</a></p><p>Gets the position ranges from the previous transaction.</p><h5 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h5><p>readonly <code>number</code>[]</p><hr><h3 id="prevtime" tabindex="-1">prevTime <a class="header-anchor" href="#prevtime" aria-label="Permalink to “prevTime”">​</a></h3><h4 id="get-signature-3" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-3" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prevTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L87" target="_blank" rel="noreferrer">state/HistoryState.ts:87</a></p><p>Gets the timestamp of the previous transaction.</p><h5 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h5><p><code>number</code></p><hr><h3 id="undone" tabindex="-1">undone <a class="header-anchor" href="#undone" aria-label="Permalink to “undone”">​</a></h3><h4 id="get-signature-4" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-4" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">undone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Branch;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L73" target="_blank" rel="noreferrer">state/HistoryState.ts:73</a></p><p>Gets the redo history branch.</p><h5 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to “Returns”">​</a></h5><p><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="createclosed" tabindex="-1">createClosed() <a class="header-anchor" href="#createclosed" aria-label="Permalink to “createClosed()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">static </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createClosed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(done, undone): HistoryState;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L115" target="_blank" rel="noreferrer">state/HistoryState.ts:115</a></p><p>Creates a closed history state, which prevents grouping with previous changes. This is used when the history should start a new group for the next transaction.</p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>done</code></td><td><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></td><td>The undo history branch to preserve</td></tr><tr><td><code>undone</code></td><td><a href="./../../Branch/classes/Branch.html"><code>Branch</code></a></td><td>The redo history branch to preserve</td></tr></tbody></table><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to “Returns”">​</a></h4><p><code>HistoryState</code></p><p>A new HistoryState with reset metadata to prevent grouping</p><hr><h3 id="createempty" tabindex="-1">createEmpty() <a class="header-anchor" href="#createempty" aria-label="Permalink to “createEmpty()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">static </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createEmpty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): HistoryState;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/29c0b7ebbb68b1528c0edc5e9973c4538cccdb64/packages/history/src/state/HistoryState.ts#L103" target="_blank" rel="noreferrer">state/HistoryState.ts:103</a></p><p>Creates an empty history state with no undo or redo history.</p><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to “Returns”">​</a></h4><p><code>HistoryState</code></p><p>A new HistoryState with empty branches and initial metadata</p>`,82)])])}const k=t(r,[["render",h]]);export{b as __pageData,k as default};
