import{_ as a,o as t,c as s,ak as i}from"./chunks/framework.EVMbD_FN.js";const k=JSON.parse('{"title":"@type-editor/keymap","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/keymap/README.md","filePath":"@type-editor/keymap/README.md"}'),d={name:"@type-editor/keymap/README.md"};function n(r,e,o,l,h,p){return t(),s("div",null,[...e[0]||(e[0]=[i(`<p><a href="./../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../">Type Editor</a> / @type-editor/keymap</p><h1 id="type-editor-keymap" tabindex="-1">@type-editor/keymap <a class="header-anchor" href="#type-editor-keymap" aria-label="Permalink to “@type-editor/keymap”">​</a></h1><p>This is a refactored version of the <a href="https://github.com/ProseMirror/prosemirror-keymap" target="_blank" rel="noreferrer">prosemirror-keymap</a> module.</p><p>A plugin for conveniently defining key bindings in a Type Editor.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to “Installation”">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @type-editor/keymap</span></span></code></pre></div><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to “Overview”">​</a></h2><p>This module provides utilities for defining keyboard shortcuts that trigger editor commands. It exports a <code>keymap</code> function that creates a plugin from a set of key bindings, and pre-configured base keymaps with common editing shortcuts.</p><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to “API”">​</a></h2><h3 id="keymap" tabindex="-1">keymap <a class="header-anchor" href="#keymap" aria-label="Permalink to “keymap”">​</a></h3><p>Creates a keymap plugin for the given set of key bindings.</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { keymap } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@type-editor/keymap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { toggleBold, insertHardBreak } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./my-commands&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> myKeymap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> keymap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;Mod-b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: toggleBold,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;Mod-Enter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: insertHardBreak,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;Alt-ArrowUp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: joinUp,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>Bindings should map key names to command-style functions (see <a href="./../commands/README.html">@type-editor/commands</a>), which will be called with <code>(EditorState, dispatch, EditorView)</code> arguments and should return <code>true</code> when they&#39;ve handled the key.</p><h3 id="keydownhandler" tabindex="-1">keydownHandler <a class="header-anchor" href="#keydownhandler" aria-label="Permalink to “keydownHandler”">​</a></h3><p>Creates a keydown handler function from a set of key bindings. This is useful when you want to handle key events directly in editor props rather than through a plugin.</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { keydownHandler } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@type-editor/keymap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> keydownHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Enter: insertParagraph,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;Mod-b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: toggleBold,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Use in EditorProps: { handleKeyDown: handler }</span></span></code></pre></div><h3 id="base-keymaps" tabindex="-1">Base Keymaps <a class="header-anchor" href="#base-keymaps" aria-label="Permalink to “Base Keymaps”">​</a></h3><p>The module exports pre-configured keymaps with common editing bindings:</p><table tabindex="0"><thead><tr><th>Export</th><th>Description</th></tr></thead><tbody><tr><td><code>baseKeymap</code></td><td>Platform-aware keymap (uses <code>macBaseKeymap</code> on Mac, <code>pcBaseKeymap</code> elsewhere)</td></tr><tr><td><code>pcBaseKeymap</code></td><td>Standard PC keyboard bindings</td></tr><tr><td><code>macBaseKeymap</code></td><td>Mac-specific bindings (extends <code>pcBaseKeymap</code> with additional shortcuts)</td></tr></tbody></table><h4 id="default-bindings" tabindex="-1">Default Bindings <a class="header-anchor" href="#default-bindings" aria-label="Permalink to “Default Bindings”">​</a></h4><p>The base keymaps include the following bindings (commands are chained where multiple are listed):</p><table tabindex="0"><thead><tr><th>Key</th><th>Command(s)</th></tr></thead><tbody><tr><td><strong>Enter</strong></td><td><code>newlineInCode</code>, <code>createParagraphNear</code>, <code>liftEmptyBlock</code>, <code>splitBlock</code></td></tr><tr><td><strong>Mod-Enter</strong></td><td><code>exitCode</code></td></tr><tr><td><strong>Backspace</strong></td><td><code>deleteSelection</code>, <code>joinBackward</code>, <code>selectNodeBackward</code></td></tr><tr><td><strong>Mod-Backspace</strong></td><td><code>deleteSelection</code>, <code>joinBackward</code>, <code>selectNodeBackward</code></td></tr><tr><td><strong>Shift-Backspace</strong></td><td><code>deleteSelection</code>, <code>joinBackward</code>, <code>selectNodeBackward</code></td></tr><tr><td><strong>Delete</strong></td><td><code>deleteSelection</code>, <code>joinForward</code>, <code>selectNodeForward</code></td></tr><tr><td><strong>Mod-Delete</strong></td><td><code>deleteSelection</code>, <code>joinForward</code>, <code>selectNodeForward</code></td></tr><tr><td><strong>Mod-a</strong></td><td><code>selectAll</code></td></tr></tbody></table><h5 id="additional-mac-only-bindings" tabindex="-1">Additional Mac-only bindings <a class="header-anchor" href="#additional-mac-only-bindings" aria-label="Permalink to “Additional Mac-only bindings”">​</a></h5><table tabindex="0"><thead><tr><th>Key</th><th>Command</th></tr></thead><tbody><tr><td><strong>Ctrl-h</strong></td><td>Same as Backspace</td></tr><tr><td><strong>Alt-Backspace</strong></td><td>Same as Mod-Backspace</td></tr><tr><td><strong>Ctrl-d</strong></td><td>Same as Delete</td></tr><tr><td><strong>Ctrl-Alt-Backspace</strong></td><td>Same as Mod-Delete</td></tr><tr><td><strong>Alt-Delete</strong></td><td>Same as Mod-Delete</td></tr><tr><td><strong>Alt-d</strong></td><td>Same as Mod-Delete</td></tr><tr><td><strong>Ctrl-a</strong></td><td><code>selectTextblockStart</code></td></tr><tr><td><strong>Ctrl-e</strong></td><td><code>selectTextblockEnd</code></td></tr></tbody></table><h2 id="key-name-format" tabindex="-1">Key Name Format <a class="header-anchor" href="#key-name-format" aria-label="Permalink to “Key Name Format”">​</a></h2><p>Key names may be strings like <code>&quot;Shift-Ctrl-Enter&quot;</code> — a key identifier prefixed with zero or more modifiers.</p><h3 id="key-identifiers" tabindex="-1">Key Identifiers <a class="header-anchor" href="#key-identifiers" aria-label="Permalink to “Key Identifiers”">​</a></h3><p>Key identifiers are based on the strings that can appear in <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key" target="_blank" rel="noreferrer"><code>KeyboardEvent.key</code></a>. Use lowercase letters to refer to letter keys (or uppercase letters if you want shift to be held). You may use <code>&quot;Space&quot;</code> as an alias for the <code>&quot; &quot;</code> name.</p><h3 id="modifiers" tabindex="-1">Modifiers <a class="header-anchor" href="#modifiers" aria-label="Permalink to “Modifiers”">​</a></h3><p>Modifiers can be given in any order:</p><table tabindex="0"><thead><tr><th>Modifier</th><th>Aliases</th></tr></thead><tbody><tr><td><code>Shift-</code></td><td><code>s-</code></td></tr><tr><td><code>Alt-</code></td><td><code>a-</code></td></tr><tr><td><code>Ctrl-</code></td><td><code>c-</code>, <code>Control-</code></td></tr><tr><td><code>Cmd-</code></td><td><code>m-</code>, <code>Meta-</code></td></tr><tr><td><code>Mod-</code></td><td>Platform-aware: <code>Cmd-</code> on Mac, <code>Ctrl-</code> elsewhere</td></tr></tbody></table><p>For characters that are created by holding shift, the <code>Shift-</code> prefix is implied and should not be added explicitly.</p><h2 id="multiple-keymaps" tabindex="-1">Multiple Keymaps <a class="header-anchor" href="#multiple-keymaps" aria-label="Permalink to “Multiple Keymaps”">​</a></h2><p>You can add multiple keymap plugins to an editor. The order in which they appear determines their precedence — plugins earlier in the array get to dispatch first.</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { keymap, baseKeymap } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@type-editor/keymap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  keymap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(customBindings), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Custom bindings take precedence</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  keymap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(baseKeymap), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Fallback to base keymap</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre></div><h2 id="related-packages" tabindex="-1">Related Packages <a class="header-anchor" href="#related-packages" aria-label="Permalink to “Related Packages”">​</a></h2><ul><li><a href="./../commands/README.html">@type-editor/commands</a> - Command functions to use with keymaps</li><li><a href="./../state/README.html">@type-editor/state</a> - Editor state and plugin system</li><li><a href="./../view/README.html">@type-editor/view</a> - Editor view that processes key events</li></ul><h2 id="license" tabindex="-1">License <a class="header-anchor" href="#license" aria-label="Permalink to “License”">​</a></h2><p>MIT</p><h2 id="modules" tabindex="-1">Modules <a class="header-anchor" href="#modules" aria-label="Permalink to “Modules”">​</a></h2><table><thead><tr><th>Module</th><th>Description</th></tr></thead><tbody><tr><td><p><a href="./baseKeyMap/README.html">baseKeyMap</a></p></td><td><p>‐</p></td></tr><tr><td><p><a href="./keymap/README.html">keymap</a></p></td><td><p>‐</p></td></tr></tbody></table>`,43)])])}const y=a(d,[["render",n]]);export{k as __pageData,y as default};
