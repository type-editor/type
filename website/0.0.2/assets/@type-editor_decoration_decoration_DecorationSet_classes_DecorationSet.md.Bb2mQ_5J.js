import{_ as a,o as t,c as i,ak as s}from"./chunks/framework.BhGvdB6H.js";const k=JSON.parse('{"title":"Class: DecorationSet","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/decoration/decoration/DecorationSet/classes/DecorationSet.md","filePath":"@type-editor/decoration/decoration/DecorationSet/classes/DecorationSet.md"}'),r={name:"@type-editor/decoration/decoration/DecorationSet/classes/DecorationSet.md"};function o(n,e,d,h,c,l){return t(),i("div",null,[...e[0]||(e[0]=[s(`<p><a href="./../../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../../">Type Editor</a> / <a href="./../../../README.html">@type-editor/decoration</a> / <a href="./../README.html">decoration/DecorationSet</a> / DecorationSet</p><h1 id="class-decorationset" tabindex="-1">Class: DecorationSet <a class="header-anchor" href="#class-decorationset" aria-label="Permalink to “Class: DecorationSet”">​</a></h1><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L37" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:37</a></p><p>A collection of <a href="#view-decoration">decorations</a>, organized in such a way that the drawing algorithm can efficiently use and compare them. This is a persistent data structure—it is not modified, updates create a new value.</p><p>The decoration set organizes decorations hierarchically according to the document structure, allowing for efficient updates when the document changes. Decorations are stored both locally (applying to the current node) and in child sets (applying to child nodes).</p><h2 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to “Example”">​</a></h2><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create a decoration set from decorations</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decorations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [Decoration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">inline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { class: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;highlight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decoSet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecorationSet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(doc, decorations);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Map through a document change</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mapped</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoSet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mapping, newDoc);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Find decorations in a range</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> found</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> decoSet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="extends" tabindex="-1">Extends <a class="header-anchor" href="#extends" aria-label="Permalink to “Extends”">​</a></h2><ul><li><a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html"><code>AbstractDecorationSource</code></a></li></ul><h2 id="implements" tabindex="-1">Implements <a class="header-anchor" href="#implements" aria-label="Permalink to “Implements”">​</a></h2><ul><li><code>DecorationSource</code></li></ul><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to “Constructors”">​</a></h2><h3 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to “Constructor”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DecorationSet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(local</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, children</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecorationSet;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L61" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:61</a></p><p>Creates a new decoration set.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>local?</code></td><td>readonly <code>PmDecoration</code>[]</td><td>Decorations that apply to this node level</td></tr><tr><td><code>children?</code></td><td>readonly (<code>number</code> | <code>DecorationSet</code>)[]</td><td>Child decoration sets in the format [startPos, endPos, DecorationSet, ...]</td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>DecorationSet</code></p><h4 id="overrides" tabindex="-1">Overrides <a class="header-anchor" href="#overrides" aria-label="Permalink to “Overrides”">​</a></h4><p><a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html"><code>AbstractDecorationSource</code></a>.<a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html#constructor"><code>constructor</code></a></p><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to “Properties”">​</a></h2><table tabindex="0"><thead><tr><th>Property</th><th>Modifier</th><th>Type</th><th>Default value</th><th>Description</th><th>Inherited from</th><th>Defined in</th></tr></thead><tbody><tr><td><a id="property-empty"></a> <code>empty</code></td><td><code>static</code></td><td><code>DecorationSet</code></td><td><code>undefined</code></td><td>The empty set of decorations. Use this constant instead of creating new empty decoration sets.</td><td>-</td><td><a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L510" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:510</a></td></tr><tr><td><a id="property-empty_decoration_widget_options"></a> <code>EMPTY_DECORATION_WIDGET_OPTIONS</code></td><td><code>readonly</code></td><td><code>Record</code>&lt;<code>string</code>, <code>never</code>&gt;</td><td><code>{}</code></td><td>Empty options object used as default to avoid repeated allocations</td><td><a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html"><code>AbstractDecorationSource</code></a>.<a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html#property-empty-decoration-widget-options"><code>EMPTY_DECORATION_WIDGET_OPTIONS</code></a></td><td><a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/AbstractDecorationSource.ts#L14" target="_blank" rel="noreferrer">decoration/AbstractDecorationSource.ts:14</a></td></tr></tbody></table><h2 id="accessors" tabindex="-1">Accessors <a class="header-anchor" href="#accessors" aria-label="Permalink to “Accessors”">​</a></h2><h3 id="children" tabindex="-1">children <a class="header-anchor" href="#children" aria-label="Permalink to “children”">​</a></h3><h4 id="get-signature" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readonly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (number </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecorationSet)[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L90" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:90</a></p><p>Get child decoration sets organized as [startPos, endPos, DecorationSet, ...].</p><p>The array contains triplets where each triplet represents a child node:</p><ul><li>Index i: start position of the child</li><li>Index i+1: end position of the child (startPos + nodeSize)</li><li>Index i+2: DecorationSet containing decorations for that child</li></ul><h5 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h5><p>readonly (<code>number</code> | <code>DecorationSet</code>)[]</p><p>Read-only array of child positions and decoration sets</p><hr><h3 id="local" tabindex="-1">local <a class="header-anchor" href="#local" aria-label="Permalink to “local”">​</a></h3><h4 id="get-signature-1" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-1" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">local</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): readonly PmDecoration[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L76" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:76</a></p><p>Get the decorations that apply directly at this node level.</p><p>These are decorations that don&#39;t belong to any child node, such as decorations that span across multiple children or widgets placed between children.</p><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h5><p>readonly <code>PmDecoration</code>[]</p><p>Read-only array of local decorations</p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="add" tabindex="-1">add() <a class="header-anchor" href="#add" aria-label="Permalink to “add()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(doc, decorations): DecorationSet;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L233" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:233</a></p><p>Add the given array of decorations to the ones in the set, producing a new set. Consumes the <code>decorations</code> array. Needs access to the current document to create the appropriate tree structure.</p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>doc</code></td><td><code>Node_2</code></td><td>The document node to organize decorations around</td></tr><tr><td><code>decorations</code></td><td><code>PmDecoration</code>[]</td><td>Array of decorations to add (will be mutated)</td></tr></tbody></table><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h4><p><code>DecorationSet</code></p><p>A new decoration set with the added decorations</p><hr><h3 id="eq" tabindex="-1">eq() <a class="header-anchor" href="#eq" aria-label="Permalink to “eq()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(other): boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L439" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:439</a></p><p>Check if this decoration set is equal to another decoration set.</p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>other</code></td><td><code>DecorationSet</code></td><td>The decoration set to compare with</td></tr></tbody></table><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><p>True if the decoration sets are equal</p><h4 id="implementation-of" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DecorationSource.eq;</span></span></code></pre></div><hr><h3 id="find" tabindex="-1">find() <a class="header-anchor" href="#find" aria-label="Permalink to “find()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   end</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   predicate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PmDecoration[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L121" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:121</a></p><p>Find all decorations in this set which touch the given range (including decorations that start or end directly at the boundaries) and match the given predicate on their spec. When <code>start</code> and <code>end</code> are omitted, all decorations in the set are considered. When <code>predicate</code> isn&#39;t given, all decorations are assumed to match.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>start?</code></td><td><code>number</code></td><td>Starting position of the range to search (default: 0)</td></tr><tr><td><code>end?</code></td><td><code>number</code></td><td>Ending position of the range to search (default: 1e9)</td></tr><tr><td><code>predicate?</code></td><td>(<code>spec</code>) =&gt; <code>boolean</code></td><td>Optional function to filter decorations by their spec</td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h4><p><code>PmDecoration</code>[]</p><p>Array of decorations that match the criteria</p><hr><h3 id="forchild" tabindex="-1">forChild() <a class="header-anchor" href="#forchild" aria-label="Permalink to “forChild()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(offset, node):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecorationSet</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecorationGroup;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L388" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:388</a></p><p>Get the decorations relevant for a child node.</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>offset</code></td><td><code>number</code></td><td>The offset position of the child node</td></tr><tr><td><code>node</code></td><td><code>Node_2</code></td><td>The child node</td></tr></tbody></table><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to “Returns”">​</a></h4><p>| <code>DecorationSet</code> | <a href="./../../DecorationGroup/classes/DecorationGroup.html"><code>DecorationGroup</code></a></p><p>A decoration set or group for the child node</p><h4 id="implementation-of-1" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-1" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DecorationSource.forChild;</span></span></code></pre></div><hr><h3 id="foreachset" tabindex="-1">forEachSet() <a class="header-anchor" href="#foreachset" aria-label="Permalink to “forEachSet()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEachSet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callbackFunc): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L518" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:518</a></p><p>Iterate over all decoration sets, calling the callback for each one. For a single DecorationSet, this just calls the callback once with itself.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>callbackFunc</code></td><td>(<code>set</code>) =&gt; <code>void</code></td><td>Function to call with this decoration set</td></tr></tbody></table><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="implementation-of-2" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-2" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DecorationSource.forEachSet;</span></span></code></pre></div><hr><h3 id="locals" tabindex="-1">locals() <a class="header-anchor" href="#locals" aria-label="Permalink to “locals()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">locals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node): PmDecoration[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L475" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:475</a></p><p>Get the local decorations for a node, with overlaps removed.</p><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>node</code></td><td><code>Node_2</code></td><td>The node to get decorations for</td></tr></tbody></table><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to “Returns”">​</a></h4><p><code>PmDecoration</code>[]</p><p>Array of decorations with overlaps removed</p><h4 id="implementation-of-3" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-3" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DecorationSource.locals;</span></span></code></pre></div><hr><h3 id="localsinner" tabindex="-1">localsInner() <a class="header-anchor" href="#localsinner" aria-label="Permalink to “localsInner()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">localsInner</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node): readonly PmDecoration[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L486" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:486</a></p><p>Get the local decorations for a node, filtering out inline decorations if the node contains block content.</p><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>node</code></td><td><code>Node_2</code></td><td>The node to get decorations for</td></tr></tbody></table><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to “Returns”">​</a></h4><p>readonly <code>PmDecoration</code>[]</p><p>Array of local decorations appropriate for the node</p><hr><h3 id="map" tabindex="-1">map() <a class="header-anchor" href="#map" aria-label="Permalink to “map()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   mapping,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   doc,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecorationSet;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L170" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:170</a></p><p>Map the set of decorations in response to a change in the document.</p><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>mapping</code></td><td><code>Mapping</code></td><td>The mapping object representing document changes</td></tr><tr><td><code>doc</code></td><td><code>Node_2</code></td><td>The updated document node</td></tr><tr><td><code>options?</code></td><td>{ <code>onRemove?</code>: (<code>decorationSpec</code>) =&gt; <code>void</code>; }</td><td>Optional configuration object</td></tr><tr><td><code>options.onRemove?</code></td><td>(<code>decorationSpec</code>) =&gt; <code>void</code></td><td>Callback invoked for each decoration that gets dropped, passing its spec</td></tr></tbody></table><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to “Returns”">​</a></h4><p><code>DecorationSet</code></p><p>A new decoration set with mapped decorations</p><h4 id="implementation-of-4" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-4" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DecorationSource.map;</span></span></code></pre></div><hr><h3 id="mapinner" tabindex="-1">mapInner() <a class="header-anchor" href="#mapinner" aria-label="Permalink to “mapInner()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mapInner</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   mapping,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   node,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   offset,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   oldOffset,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   options): DecorationSet;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L189" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:189</a></p><p>Internal recursive method to map decorations through document changes.</p><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>mapping</code></td><td><code>Mapping</code></td><td>The mapping object</td></tr><tr><td><code>node</code></td><td><code>Node_2</code></td><td>The current node being processed</td></tr><tr><td><code>offset</code></td><td><code>number</code></td><td>Current position offset in the new document</td></tr><tr><td><code>oldOffset</code></td><td><code>number</code></td><td>Position offset in the old document</td></tr><tr><td><code>options</code></td><td>{ <code>onRemove?</code>: (<code>decorationSpec</code>) =&gt; <code>void</code>; }</td><td>Configuration with optional onRemove callback</td></tr><tr><td><code>options.onRemove?</code></td><td>(<code>decorationSpec</code>) =&gt; <code>void</code></td><td>-</td></tr></tbody></table><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to “Returns”">​</a></h4><p><code>DecorationSet</code></p><p>A new mapped decoration set</p><hr><h3 id="remove" tabindex="-1">remove() <a class="header-anchor" href="#remove" aria-label="Permalink to “remove()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(decorations): DecorationSet;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L299" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:299</a></p><p>Create a new set that contains the decorations in this set, minus the ones in the given array.</p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>decorations</code></td><td><code>PmDecoration</code>[]</td><td>Array of decorations to remove</td></tr></tbody></table><h4 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to “Returns”">​</a></h4><p><code>DecorationSet</code></p><p>A new decoration set without the removed decorations, or this if nothing changed</p><hr><h3 id="removeoverlap" tabindex="-1">removeOverlap() <a class="header-anchor" href="#removeoverlap" aria-label="Permalink to “removeOverlap()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">protected </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeOverlap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spans): PmDecoration[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/AbstractDecorationSource.ts#L25" target="_blank" rel="noreferrer">decoration/AbstractDecorationSource.ts:25</a></p><p>Scan a sorted array of decorations for partially overlapping spans, and split those so that only fully overlapping spans are left (to make subsequent rendering easier). Will return the input array if no partially overlapping spans are found (the common case).</p><h4 id="parameters-11" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-11" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>spans</code></td><td>readonly <code>PmDecoration</code>[]</td><td>The array of decorations to process</td></tr></tbody></table><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to “Returns”">​</a></h4><p><code>PmDecoration</code>[]</p><p>A new array with overlaps removed, or the original if no overlaps exist</p><h4 id="inherited-from" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from" aria-label="Permalink to “Inherited from”">​</a></h4><p><a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html"><code>AbstractDecorationSource</code></a>.<a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html#removeoverlap"><code>removeOverlap</code></a></p><hr><h3 id="create" tabindex="-1">create() <a class="header-anchor" href="#create" aria-label="Permalink to “create()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">static </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(doc, decorations): DecorationSet;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/DecorationSet.ts#L104" target="_blank" rel="noreferrer">decoration/DecorationSet.ts:104</a></p><p>Create a set of decorations, using the structure of the given document. This will consume (modify) the <code>decorations</code> array, so you must make a copy if you want need to preserve that.</p><h4 id="parameters-12" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-12" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>doc</code></td><td><code>Node_2</code></td><td>The document node to organize decorations around</td></tr><tr><td><code>decorations</code></td><td><code>PmDecoration</code>[]</td><td>Array of decorations to organize (will be mutated)</td></tr></tbody></table><h4 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to “Returns”">​</a></h4><p><code>DecorationSet</code></p><p>A new decoration set organized by the document structure</p><hr><h3 id="sortdecorations" tabindex="-1">sortDecorations() <a class="header-anchor" href="#sortdecorations" aria-label="Permalink to “sortDecorations()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">protected static </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sortDecorations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spans): PmDecoration[];</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/decoration/src/decoration/AbstractDecorationSource.ts#L96" target="_blank" rel="noreferrer">decoration/AbstractDecorationSource.ts:96</a></p><p>Comparator function used to sort decorations by position. Decorations with lower start positions come first, and within a set with the same start position, those with smaller end positions come first.</p><h4 id="parameters-13" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-13" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>spans</code></td><td><code>PmDecoration</code>[]</td></tr></tbody></table><h4 id="returns-15" tabindex="-1">Returns <a class="header-anchor" href="#returns-15" aria-label="Permalink to “Returns”">​</a></h4><p><code>PmDecoration</code>[]</p><p>A comparator function for sorting decorations</p><h4 id="inherited-from-1" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-1" aria-label="Permalink to “Inherited from”">​</a></h4><p><a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html"><code>AbstractDecorationSource</code></a>.<a href="./../../AbstractDecorationSource/classes/AbstractDecorationSource.html#sortdecorations"><code>sortDecorations</code></a></p>`,190)])])}const b=a(r,[["render",o]]);export{k as __pageData,b as default};
