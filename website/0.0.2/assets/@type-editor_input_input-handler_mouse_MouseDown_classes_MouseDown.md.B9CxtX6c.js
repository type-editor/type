import{_ as a,o as t,c as s,ak as i}from"./chunks/framework.BhGvdB6H.js";const k=JSON.parse('{"title":"Class: MouseDown","description":"","frontmatter":{},"headers":[],"relativePath":"@type-editor/input/input-handler/mouse/MouseDown/classes/MouseDown.md","filePath":"@type-editor/input/input-handler/mouse/MouseDown/classes/MouseDown.md"}'),n={name:"@type-editor/input/input-handler/mouse/MouseDown/classes/MouseDown.md"};function r(d,e,o,l,h,p){return t(),s("div",null,[...e[0]||(e[0]=[i(`<p><a href="./../../../../../../README.html"><strong>Type Editor</strong></a></p><hr><p><a href="./../../../../../../">Type Editor</a> / <a href="./../../../../README.html">@type-editor/input</a> / <a href="./../README.html">input-handler/mouse/MouseDown</a> / MouseDown</p><h1 id="class-mousedown" tabindex="-1">Class: MouseDown <a class="header-anchor" href="#class-mousedown" aria-label="Permalink to “Class: MouseDown”">​</a></h1><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L14" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:14</a></p><p>Manages mouse down state and handles mouse-based text selection and dragging. Tracks the initial state, sets up drag attributes if needed, and handles mouse move and mouse up events.</p><h2 id="implements" tabindex="-1">Implements <a class="header-anchor" href="#implements" aria-label="Permalink to “Implements”">​</a></h2><ul><li><code>PmMouseDown</code></li></ul><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to “Constructors”">​</a></h2><h3 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to “Constructor”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MouseDown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   view,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   pos,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   event,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   flushed): MouseDown;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L55" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:55</a></p><p>Creates a new MouseDown handler.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>view</code></td><td><code>PmEditorView</code></td><td>The editor view</td></tr><tr><td><code>pos</code></td><td>{ <code>inside</code>: <code>number</code>; <code>pos</code>: <code>number</code>; }</td><td>The document position where the mouse down occurred</td></tr><tr><td><code>pos.inside</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>pos.pos</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>event</code></td><td><code>MouseEvent</code></td><td>The mouse event</td></tr><tr><td><code>flushed</code></td><td><code>boolean</code></td><td>Whether the DOM was flushed before this event</td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>MouseDown</code></p><h2 id="accessors" tabindex="-1">Accessors <a class="header-anchor" href="#accessors" aria-label="Permalink to “Accessors”">​</a></h2><h3 id="allowdefault" tabindex="-1">allowDefault <a class="header-anchor" href="#allowdefault" aria-label="Permalink to “allowDefault”">​</a></h3><h4 id="get-signature" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">allowDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L135" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:135</a></p><p>Whether to allow default browser selection behavior</p><h5 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h5><p><code>boolean</code></p><h4 id="implementation-of" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PmMouseDown.allowDefault;</span></span></code></pre></div><hr><h3 id="delayedselectionsync" tabindex="-1">delayedSelectionSync <a class="header-anchor" href="#delayedselectionsync" aria-label="Permalink to “delayedSelectionSync”">​</a></h3><h4 id="set-signature" tabindex="-1">Set Signature <a class="header-anchor" href="#set-signature" aria-label="Permalink to “Set Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">delayedSelectionSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sync): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L140" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:140</a></p><p>Set whether selection sync should be delayed</p><h5 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h5><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>sync</code></td><td><code>boolean</code></td></tr></tbody></table><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h5><p><code>void</code></p><h4 id="implementation-of-1" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-1" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PmMouseDown.delayedSelectionSync;</span></span></code></pre></div><hr><h3 id="mightdrag" tabindex="-1">mightDrag <a class="header-anchor" href="#mightdrag" aria-label="Permalink to “mightDrag”">​</a></h3><h4 id="get-signature-1" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-1" aria-label="Permalink to “Get Signature”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mightDrag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addAttr: boolean;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  node: Node_2;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  pos: number;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setUneditable: boolean;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L145" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:145</a></p><p>Information about a potential drag operation</p><h5 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h5><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  addAttr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: boolean;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Node_2;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: number;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setUneditable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: boolean;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Defined in</th></tr></thead><tbody><tr><td><code>addAttr</code></td><td><code>boolean</code></td><td><a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L145" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:145</a></td></tr><tr><td><code>node</code></td><td><code>Node_2</code></td><td><a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L145" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:145</a></td></tr><tr><td><code>pos</code></td><td><code>number</code></td><td><a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L145" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:145</a></td></tr><tr><td><code>setUneditable</code></td><td><code>boolean</code></td><td><a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L145" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:145</a></td></tr></tbody></table><h4 id="implementation-of-2" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-2" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PmMouseDown.mightDrag;</span></span></code></pre></div><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="done" tabindex="-1">done() <a class="header-anchor" href="#done" aria-label="Permalink to “done()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L212" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:212</a></p><p>Cleans up the mouse down state, removing event listeners and restoring DOM attributes that were modified for dragging.</p><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="implementation-of-3" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of-3" aria-label="Permalink to “Implementation of”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PmMouseDown.done;</span></span></code></pre></div><hr><h3 id="runhandleroncontext" tabindex="-1">runHandlerOnContext() <a class="header-anchor" href="#runhandleroncontext" aria-label="Permalink to “runHandlerOnContext()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">static </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">runHandlerOnContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   view,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   propName,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   pos,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   inside,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   event): boolean;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L184" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:184</a></p><p>Runs click handlers (handleClickOn, handleDoubleClickOn, handleTripleClickOn) for nodes in the editor tree, traversing from the clicked position up through parent nodes.</p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>view</code></td><td><code>PmEditorView</code></td><td>The editor view</td></tr><tr><td><code>propName</code></td><td><code>&quot;handleClickOn&quot;</code> | <code>&quot;handleDoubleClickOn&quot;</code> | <code>&quot;handleTripleClickOn&quot;</code></td><td>The name of the handler prop to invoke</td></tr><tr><td><code>pos</code></td><td><code>number</code></td><td>The document position where the click occurred</td></tr><tr><td><code>inside</code></td><td><code>number</code></td><td>The position inside the clicked node (-1 if not inside a node)</td></tr><tr><td><code>event</code></td><td><code>MouseEvent</code></td><td>The mouse event</td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><p>True if a handler processed the click</p><hr><h3 id="updateselection" tabindex="-1">updateSelection() <a class="header-anchor" href="#updateselection" aria-label="Permalink to “updateSelection()”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">static </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateSelection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   view,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   selection,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   origin): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Defined in: <a href="https://github.com/type-editor/type/blob/c311ca079abd6b61221c2aab5ce7aaefbf4271cf/packages/input/src/input-handler/mouse/MouseDown.ts#L156" target="_blank" rel="noreferrer">input-handler/mouse/MouseDown.ts:156</a></p><p>Updates the editor selection, focusing the editor if necessary and dispatching a transaction if the selection changed.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>view</code></td><td><code>PmEditorView</code></td><td>The editor view</td></tr><tr><td><code>selection</code></td><td><code>PmSelection</code></td><td>The new selection</td></tr><tr><td><code>origin</code></td><td><code>string</code></td><td>The origin of the selection change (e.g., &#39;pointer&#39;)</td></tr></tbody></table><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p>`,78)])])}const u=a(n,[["render",r]]);export{k as __pageData,u as default};
